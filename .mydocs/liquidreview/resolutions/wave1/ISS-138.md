# Resolution: ISS-138

## Status: âœ… RESOLVED

## Issue Summary
**Title:** Build Interactive Playground
**Severity:** Minor
**Target:** SPEC
**Section:** New Appendix E

## Resolution

### Original Content (Lines N/A)
```markdown
[No interactive playground specification currently exists]
```

### Replacement Content
```markdown
## Appendix E: Interactive Playground

This appendix defines the requirements for the LiquidCode Playgroundâ€”an interactive web-based tool for learning, experimenting with, and sharing LiquidCode.

### E.1 Purpose & Goals

The LiquidCode Playground serves four purposes:

1. **Learning:** Teach LiquidCode syntax and concepts interactively
2. **Experimentation:** Allow developers to test LiquidCode quickly without setup
3. **Sharing:** Enable users to share dashboard examples via URL
4. **Validation:** Verify LiquidCode correctness and view compiled output

**Primary audience:**
- New LiquidCode users learning the syntax
- Frontend developers prototyping dashboards
- Technical writers creating examples
- Spec contributors validating changes

---

### E.2 Core Features

#### E.2.1 Code Editor

**Requirements:**
- Syntax highlighting for LiquidCode
- Auto-completion for block types, operators, signals
- Real-time syntax validation (highlight errors)
- Line numbers and error markers
- Support both ASCII and Unicode operators
- Keyboard shortcuts (Cmd/Ctrl+Enter to compile)

**Technology suggestions:**
- Monaco Editor (VS Code's editor)
- CodeMirror 6
- Custom syntax mode for LiquidCode grammar (Â§6)

**Editor sections (3-pane layout):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     LIQUIDCODE PLAYGROUND               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    â”‚                â”‚                   â”‚
â”‚  EDITOR            â”‚  PREVIEW       â”‚  SCHEMA OUTPUT    â”‚
â”‚                    â”‚                â”‚                   â”‚
â”‚  1 #overview;G2x2  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  {                â”‚
â”‚  2 Â§dateRange:dr   â”‚  â”‚ KPI: $12Kâ”‚  â”‚    "version":     â”‚
â”‚  3 DF<>@dateRange  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚      "2.0",       â”‚
â”‚  4 K$revenue       â”‚  â”‚[Chart...]â”‚  â”‚    "blocks": [    â”‚
â”‚  5 L$date$revenue  â”‚  â”‚          â”‚  â”‚      {            â”‚
â”‚  6                 â”‚  â”‚          â”‚  â”‚        "type":    â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        "kpi",     â”‚
â”‚  [Compile & Run]   â”‚                â”‚        ...        â”‚
â”‚  [Share]  [Reset]  â”‚                â”‚      }            â”‚
â”‚                    â”‚                â”‚    ]              â”‚
â”‚                    â”‚                â”‚  }                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.2.2 Live Preview

**Requirements:**
- Real-time rendering using React adapter (Appendix D)
- Updates on code change (debounced, ~500ms)
- Shows compiled dashboard
- Interactive (signals work)
- Responsive preview (toggle mobile/tablet/desktop)
- Dark/light mode toggle

**Preview modes:**
```typescript
type PreviewMode =
  | 'desktop'   // 1200px+ viewport
  | 'tablet'    // 600-1200px viewport
  | 'mobile'    // <600px viewport
  | 'responsive'; // Resizable preview
```

**Preview controls:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Preview Controls                    â”‚
â”‚ [Desktop] [Tablet] [Mobile] [Free] â”‚
â”‚ [Light Mode ğŸŒ | Dark Mode ğŸŒ™]     â”‚
â”‚ [â†» Refresh] [âš™ï¸ Settings]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.2.3 Schema Inspector

**Requirements:**
- Display compiled LiquidSchema JSON
- Syntax-highlighted JSON viewer
- Collapsible sections (blocks, signals, layout)
- Copy to clipboard button
- Download as .json file
- Validation status indicator (âœ… valid / âŒ invalid)

**Inspector sections:**
```
Schema Output
â”œâ”€â”€ version: "2.0" âœ…
â”œâ”€â”€ scope: "interface"
â”œâ”€â”€ uid: "s_abc123"
â”œâ”€â”€ blocks: [3 blocks] â–¼
â”‚   â”œâ”€â”€ [0] KPI (revenue) â–¼
â”‚   â”‚   â”œâ”€â”€ uid: "b_001"
â”‚   â”‚   â”œâ”€â”€ type: "kpi"
â”‚   â”‚   â””â”€â”€ binding: {...}
â”‚   â”œâ”€â”€ [1] Line Chart (trend) â–¼
â”‚   â””â”€â”€ [2] Data Table â–¼
â”œâ”€â”€ signals: [1 signal] â–¼
â”‚   â””â”€â”€ dateRange: {...}
â””â”€â”€ layout: grid (2x2) â–¼

[Copy JSON] [Download JSON] [Validate]
```

---

#### E.2.4 Sample Data Panel

**Requirements:**
- JSON editor for sample data
- Pre-filled with common data shapes
- Templates for each archetype (Â§12.3)
- CSV import (converts to JSON)
- Validation (matches binding expectations)

**Data templates:**
```typescript
const dataTemplates = {
  'time-series': {
    date: ['2024-01-01', '2024-02-01', /* ... */],
    revenue: [12000, 15000, /* ... */],
    orders: [120, 150, /* ... */],
  },
  'comparison': {
    category: ['Q1', 'Q2', 'Q3', 'Q4'],
    current: [100, 120, 110, 130],
    previous: [90, 110, 105, 120],
  },
  'funnel': {
    stage: ['Awareness', 'Interest', 'Decision', 'Action'],
    count: [10000, 5000, 1000, 500],
  },
  // ... other archetypes
};
```

**Data panel UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sample Data                  â”‚
â”‚ [Template â–¼] [Import CSV]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {                            â”‚
â”‚   "date": [...],             â”‚
â”‚   "revenue": [...]           â”‚
â”‚ }                            â”‚
â”‚                              â”‚
â”‚ âœ… Valid JSON                â”‚
â”‚ âš ï¸ Field 'orders' not used   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.2.5 Example Gallery

**Requirements:**
- Curated examples for each archetype
- One-click load into editor
- Categories: Beginner, Intermediate, Advanced
- Search/filter by feature (signals, layout, mutations)
- Community examples (if auth enabled)

**Example categories:**
```
Beginner
â”œâ”€â”€ Simple KPI Dashboard
â”œâ”€â”€ Line Chart with Date Filter
â””â”€â”€ Basic Table

Intermediate
â”œâ”€â”€ Grid Layout with Signals
â”œâ”€â”€ Comparison Dashboard
â””â”€â”€ Funnel Visualization

Advanced
â”œâ”€â”€ Multi-Signal Interactions
â”œâ”€â”€ Complex Layouts (nested)
â”œâ”€â”€ Mutations Demo
â””â”€â”€ Custom Block Types

Archetypes
â”œâ”€â”€ Overview Dashboard
â”œâ”€â”€ Time Series Analysis
â”œâ”€â”€ Comparison View
â”œâ”€â”€ Funnel Analysis
â”œâ”€â”€ Hierarchical Data
â”œâ”€â”€ Distribution View
â””â”€â”€ Correlation Analysis
```

**Gallery UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Example Gallery                            â”‚
â”‚ [Search...] [Categoryâ–¼] [Featureâ–¼]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚Sales â”‚  â”‚Funnelâ”‚  â”‚Multi â”‚             â”‚
â”‚ â”‚Dash  â”‚  â”‚View  â”‚  â”‚Signalâ”‚             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚   [Load]    [Load]    [Load]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.2.6 Share Feature

**Requirements:**
- Generate shareable URL with encoded LiquidCode + data
- Short URL generation (optional, requires backend)
- Copy link to clipboard
- QR code for mobile sharing (optional)
- Embed code for documentation (iframe)

**URL encoding:**
```typescript
// Encode LiquidCode and data in URL hash
const encodedCode = encodeURIComponent(btoa(liquidCode));
const encodedData = encodeURIComponent(btoa(JSON.stringify(data)));
const shareURL = `https://liquidcode.dev/playground#code=${encodedCode}&data=${encodedData}`;

// Or use compression for shorter URLs
const compressed = LZString.compressToEncodedURIComponent(liquidCode + '|||' + JSON.stringify(data));
const shareURL = `https://liquidcode.dev/playground#s=${compressed}`;
```

**Share UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Share This Dashboard                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ Copy Link                        â”‚
â”‚ https://liquidcode.dev/playground#  â”‚
â”‚ code=I292ZXJ2aWV3O0cyeDI7...       â”‚
â”‚                                     â”‚
â”‚ ğŸ–¼ï¸ Embed Code                       â”‚
â”‚ <iframe src="..." />                â”‚
â”‚                                     â”‚
â”‚ ğŸ“± QR Code                          â”‚
â”‚ [QR code image]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### E.3 Educational Features

#### E.3.1 Interactive Tutorial

**Requirements:**
- Step-by-step guided tour
- Highlights editor features
- Progressive disclosure of concepts
- Checkpoints with validation

**Tutorial steps:**
```
Step 1: Basic Dashboard
- Type: #overview;G2x2;K$revenue
- See: KPI renders in preview
- Learn: Archetype, layout, block type

Step 2: Add Chart
- Type: ,L$date$revenue
- See: Line chart appears
- Learn: Block list syntax, binding

Step 3: Add Filter
- Type: DF<>@dateRange (before blocks)
- Type: signal:dateRange:dr=30d,url (top)
- See: Date filter renders, chart updates
- Learn: Signals, emit/receive

Step 4: Mutations
- Type: delta:~@K0.label:"Total Revenue"
- See: KPI label changes
- Learn: Mutation syntax, addressing

Step 5: Layout Control
- Modify K$revenue!hero^fixed
- See: Priority applied
- Learn: Layout modifiers
```

**Tutorial UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š Tutorial: Building Your First Dashboard â”‚
â”‚ Step 2 of 5: Add a Chart                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Add a line chart to show revenue over time.â”‚
â”‚                                             â”‚
â”‚ Type after K$revenue:                       â”‚
â”‚ ,L$date$revenue                             â”‚
â”‚                                             â”‚
â”‚ âœ… Correct! Now you have 2 blocks.          â”‚
â”‚                                             â”‚
â”‚ [Previous] [Next Step] [Skip Tutorial]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.3.2 Syntax Helper

**Requirements:**
- Inline documentation as you type
- Tooltips on hover (block types, operators)
- Quick reference panel (keyboard shortcut: ?)
- Context-sensitive help

**Syntax helper UI:**
```
When cursor is on: K$revenue!hero^fixed
                   â†‘
Show tooltip:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ K = KPI Block                  â”‚
â”‚ Displays a single metric       â”‚
â”‚ Required binding: value        â”‚
â”‚ Optional: label, trend, icon   â”‚
â”‚ [View docs â†’]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When user types: delta:
Show autocomplete:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ delta:+   Add block            â”‚
â”‚ delta:-   Remove block         â”‚
â”‚ delta:~   Modify property      â”‚
â”‚ delta:move: Move block         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.3.3 Error Assistance

**Requirements:**
- Parse errors shown inline
- Suggestions for fix
- Link to relevant spec section
- Common mistakes database

**Error UI:**
```
Code:
1 #overview;G2x2;K$revenue
2 delta~@K0.label:"Test"
      â†‘
      âŒ Expected ':' after 'delta'

Suggestion:
Did you mean: delta:~@K0.label:"Test" ?

Common mistake: Missing colon between operator and operation.
See: Spec Â§7.2 (Mutation Syntax)

[Apply Fix] [Learn More]
```

---

### E.4 Advanced Features

#### E.4.1 Version Selector

**Requirements:**
- Switch between LiquidCode spec versions (v1, v2, v3+)
- Show migration path (v1 â†’ v2)
- Warn about deprecated syntax
- Auto-upgrade option

**Version UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LiquidCode Version: v2.0 â–¼       â”‚
â”‚ â”œâ”€â”€ v1.0 (deprecated)            â”‚
â”‚ â”œâ”€â”€ v2.0 (current)               â”‚
â”‚ â””â”€â”€ v3.0 (preview)               â”‚
â”‚                                  â”‚
â”‚ âš ï¸ This code uses v1 syntax.     â”‚
â”‚ [Upgrade to v2] [Show Diff]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.4.2 Diff Viewer

**Requirements:**
- Show before/after for mutations
- Highlight changed blocks
- Schema diff (JSON diff)
- Visual diff (screenshot comparison)

**Diff UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Schema Diff: After mutation                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BEFORE       â”‚ AFTER                       â”‚
â”‚              â”‚                             â”‚
â”‚ blocks: [    â”‚ blocks: [                   â”‚
â”‚   {          â”‚   {                         â”‚
â”‚     uid: "b" â”‚     uid: "b_001"            â”‚
â”‚     type: "k"â”‚     type: "kpi"             â”‚
â”‚     label: " â”‚     label: "Total Revenue"  â”‚ â† Changed
â”‚   }          â”‚   }                         â”‚
â”‚ ]            â”‚ ]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.4.3 Performance Profiler

**Requirements:**
- Measure parse, compile, render time
- Token count display
- Performance score (vs spec targets Â§1.1)
- Optimization suggestions

**Profiler UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Performance Profile                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Parse:    3.2ms  âœ… (target <10ms)     â”‚
â”‚ Compile: 42.1ms  âœ… (target <100ms)    â”‚
â”‚ Render:  87.5ms  âœ… (target <100ms)    â”‚
â”‚ Total:  132.8ms                        â”‚
â”‚                                        â”‚
â”‚ Token count: 38  âœ… (target <60)       â”‚
â”‚                                        â”‚
â”‚ ğŸ’¡ Suggestions:                        â”‚
â”‚ - Use ASCII operators (save 2 tokens) â”‚
â”‚ - Batch mutations (faster)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.4.4 Accessibility Checker

**Requirements:**
- Validate rendered dashboard for WCAG compliance
- Check color contrast
- Verify ARIA labels
- Keyboard navigation test

**Accessibility UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Accessibility Report                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… All blocks have ARIA labels         â”‚
â”‚ âœ… Color contrast ratio > 4.5:1        â”‚
â”‚ âš ï¸ Missing keyboard focus indicators   â”‚
â”‚ âŒ Chart not accessible to screen      â”‚
â”‚    readers (missing alt text)          â”‚
â”‚                                        â”‚
â”‚ WCAG Level: AA (partial)               â”‚
â”‚                                        â”‚
â”‚ [View Details] [Fix Issues]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### E.5 Technical Architecture

#### E.5.1 Frontend Stack

**Technology:**
- Framework: React 18+ or Next.js
- Editor: Monaco Editor
- State: Zustand or Jotai
- Styling: Tailwind CSS
- Charts: Recharts or D3.js (for adapter preview)
- Build: Vite or Next.js

**Key packages:**
```json
{
  "dependencies": {
    "@liquidcode/parser": "^2.0.0",
    "@liquidcode/compiler": "^2.0.0",
    "@liquidcode/adapter-react": "^2.0.0",
    "@monaco-editor/react": "^4.6.0",
    "react": "^18.2.0",
    "recharts": "^2.10.0",
    "lz-string": "^1.5.0"
  }
}
```

---

#### E.5.2 Backend (Optional)

**Purpose:** URL shortening, user authentication (for saving examples)

**Endpoints:**
```
POST /api/share
  Body: { code: string, data: object }
  Response: { shortUrl: string }

GET /api/example/:id
  Response: { code: string, data: object, metadata: {...} }

POST /api/example (auth required)
  Body: { code, data, title, description, tags }
  Response: { id: string }

GET /api/examples?category=beginner&tag=signals
  Response: { examples: [...] }
```

**Technology:** Cloudflare Workers, Vercel Serverless, or similar

---

#### E.5.3 URL Structure

**Primary route:**
```
https://liquidcode.dev/playground
```

**With shared code (hash-based, no backend):**
```
https://liquidcode.dev/playground#code=I292ZXJ...&data=eyJkYXRl...
```

**With short URL (requires backend):**
```
https://liquidcode.dev/p/abc123
  â†’ Redirects to full playground with code loaded
```

**Embed mode:**
```
https://liquidcode.dev/playground/embed?id=abc123
  â†’ Minimal UI, just preview (no editor)
```

---

### E.6 Deployment & Hosting

#### E.6.1 Static Hosting

**Recommended:** Deploy as static site (no backend needed for core features)

**Platforms:**
- Vercel
- Netlify
- Cloudflare Pages
- GitHub Pages

**Build output:**
```
dist/
â”œâ”€â”€ index.html
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ index-[hash].js
â”‚   â”œâ”€â”€ monaco-[hash].js
â”‚   â””â”€â”€ styles-[hash].css
â””â”€â”€ examples/
    â”œâ”€â”€ overview.json
    â”œâ”€â”€ time-series.json
    â””â”€â”€ ...
```

---

#### E.6.2 CDN & Performance

**Optimizations:**
- Code splitting (Monaco editor in separate chunk)
- Lazy load examples
- Service worker for offline support
- Compress LiquidCode in URL with LZ-string

**Performance targets:**
- Initial load: <3s (3G network)
- Time to interactive: <5s
- Compile on keystroke: <100ms (debounced)

---

### E.7 User Experience

#### E.7.1 Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| Cmd/Ctrl+Enter | Compile & Run |
| Cmd/Ctrl+S | Download schema |
| Cmd/Ctrl+K | Clear editor |
| Cmd/Ctrl+/ | Toggle comment |
| Cmd/Ctrl+D | Duplicate line |
| Cmd/Ctrl+F | Find in editor |
| ? | Show keyboard shortcuts |
| Esc | Close modals |

---

#### E.7.2 Mobile Support

**Requirements:**
- Responsive layout (stacked panels on mobile)
- Touch-friendly controls
- Mobile editor (simplified Monaco or CodeMirror)
- Preview-only mode (hide editor on small screens)

**Mobile layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Tab: Edit]      â”‚
â”‚ [Tab: Preview]   â”‚
â”‚ [Tab: Schema]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚
â”‚  [Active tab     â”‚
â”‚   content]       â”‚
â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### E.7.3 Accessibility

**Requirements:**
- WCAG 2.1 Level AA compliance
- Keyboard navigation (no mouse required)
- Screen reader support (ARIA labels)
- High contrast mode
- Adjustable font size
- Focus indicators

---

### E.8 Community Features (Optional)

#### E.8.1 User Accounts

**If authentication is added:**
- Save examples to account
- Fork others' examples
- Like/bookmark examples
- View edit history

**Auth providers:**
- GitHub OAuth (recommended)
- Google OAuth
- Email/password (optional)

---

#### E.8.2 Example Sharing

**Workflow:**
```
1. User creates dashboard
2. Click "Publish to Gallery"
3. Add title, description, tags
4. Submit for review (optional moderation)
5. Appears in community examples
6. Others can fork/remix
```

**Moderation:**
- Auto-approve from trusted users
- Flag inappropriate content
- Admin review queue

---

### E.9 Analytics & Monitoring

#### E.9.1 Usage Metrics

**Track (privacy-preserving):**
- Page views
- Compile attempts (success/failure rate)
- Most used block types
- Most used features (share, examples, tutorial)
- Error types (syntax errors, validation failures)

**Do NOT track:**
- User-generated code content
- Personal data
- Specific examples shared

**Tool:** Plausible Analytics or similar (GDPR-compliant)

---

#### E.9.2 Error Reporting

**Track errors:**
- Parse failures (with sanitized code structure)
- Compile failures (error type, not content)
- Render failures (adapter errors)
- Browser crashes

**Tool:** Sentry or similar

---

### E.10 Maintenance & Updates

#### E.10.1 Spec Synchronization

**When spec updates:**
1. Update parser/compiler packages
2. Add new examples for new features
3. Update tutorial if grammar changes
4. Deprecate old syntax (show warnings)
5. Test all existing examples

**Versioning:**
- Playground version matches spec version
- `/playground?v=2.0` for specific version
- Default to latest stable

---

#### E.10.2 Example Curation

**Regular tasks:**
- Add examples for new spec features
- Update examples when spec changes
- Remove deprecated examples
- Community examples review (if enabled)

**Example quality criteria:**
- Demonstrates one concept clearly
- Uses realistic data
- Includes comments (if helpful)
- No errors or warnings
- Accessible (WCAG AA)

---

### E.11 Deliverables

#### E.11.1 Minimum Viable Playground (MVP)

**Phase 1 (2-3 weeks):**
- [ ] Code editor with syntax highlighting
- [ ] Live preview (React adapter)
- [ ] Schema inspector
- [ ] Basic example gallery (5-10 examples)
- [ ] Share via URL (hash-based, no backend)

**Acceptance:** Users can write LiquidCode, see it rendered, and share it.

---

#### E.11.2 Enhanced Playground (Full)

**Phase 2 (3-4 weeks):**
- [ ] Sample data panel
- [ ] Interactive tutorial
- [ ] Syntax helper & autocomplete
- [ ] Error assistance
- [ ] Version selector
- [ ] Performance profiler
- [ ] Keyboard shortcuts
- [ ] Mobile support

**Acceptance:** Full-featured learning and experimentation tool.

---

#### E.11.3 Community Playground (Optional)

**Phase 3 (2-3 weeks, if auth/backend added):**
- [ ] User authentication
- [ ] Save to account
- [ ] Publish to gallery
- [ ] Fork/remix examples
- [ ] Short URL backend

**Acceptance:** Users can save, share, and discover community examples.

---

### E.12 Success Metrics

The playground is successful if:

1. **Adoption:** 1,000+ unique users in first 3 months
2. **Engagement:** Average session >5 minutes
3. **Learning:** 50%+ complete tutorial
4. **Sharing:** 100+ examples shared in first month
5. **Quality:** <5% error rate on compile attempts
6. **Performance:** P95 compile time <100ms

**User feedback:**
- Survey: "Did the playground help you learn LiquidCode?" >80% yes
- Support tickets: <10 per week related to playground bugs

---

### E.13 Future Enhancements

**Potential future features:**
- AI assistant (suggest LiquidCode for natural language intent)
- Collaborative editing (real-time multiplayer)
- Version control (git-like history)
- Export to production (download React component)
- Plugin system (custom block types in playground)
- Visual editor (drag-drop blocks)
- Diffing tool (compare two schemas)
- Playground API (embed in other sites)

These are NOT required for initial launch but could be added based on user demand.

---

### E.14 Summary

The LiquidCode Playground is a **web-based interactive tool** for learning and experimenting with LiquidCode. The MVP (Phase 1) can be built in **2-3 weeks** with editor, preview, and sharing. The full version (Phase 2) adds educational features and takes **5-7 weeks total**. Community features (Phase 3) are optional.

**Key technologies:**
- React/Next.js frontend
- Monaco Editor
- LiquidCode reference implementation (Appendix D)
- Hash-based URL sharing (no backend required for MVP)

**Success criteria:**
- Users can learn LiquidCode syntax interactively
- Examples render correctly in preview
- Sharing works via URL
- Performance meets targets (<100ms compile)

**Deployment:**
- Static site on Vercel/Netlify
- URL: `https://liquidcode.dev/playground`
- Open source (same repo as reference implementation)

This playground should be launched **after or alongside** the reference implementation (Appendix D), as it depends on the parser, compiler, and React adapter.
```

## Verification Checklist
- [x] Change addresses the identified issue
- [x] No new inconsistencies introduced
- [x] Cross-references remain valid
- [x] Interface signatures unchanged (or documented)
- [x] Normative language (MUST/SHOULD/MAY) consistent

## Side Effects
- [ ] None
- [x] New appendix references should be added to Table of Contents (Â§TOC)
- [x] Cross-reference from Appendix D (Reference Implementation) to Appendix E
- [x] Cross-reference from Â§1 (Executive Summary) could mention playground as learning tool

## Dependencies
- [ ] No dependencies on other issues
- [x] Depends on Reference Implementation (Appendix D / ISS-137)
- [x] References all core spec sections (Â§1, Â§6, Â§7, Â§10-Â§12, Â§18, Appendix B)
- [ ] Blocks: None (but should be built after ISS-137 is implemented)

## Confidence
**HIGH** - This playground specification provides a comprehensive design for an interactive learning and experimentation tool. The phased approach (MVP â†’ Enhanced â†’ Community) allows for iterative development. The specification covers UI/UX, technical architecture, features, and success metrics. The playground depends on the reference implementation packages, making the dependency chain clear.
