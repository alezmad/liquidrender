{
  "sourceFile": ".mydocs/survey-engine/samples/06-medical-intake.ts",
  "outputFile": ".mydocs/survey-engine/compiler/output/06-medical-intake.liquid",
  "surveyInfo": {
    "id": "medical-intake-survey",
    "title": "Medical Intake Survey",
    "description": "Patient information and medical history intake form",
    "totalNodes": 12,
    "startNodeId": "start"
  },
  "conversionSummary": {
    "startNodes": 1,
    "endNodes": 1,
    "questionNodes": 9,
    "messageNodes": 0,
    "conditionalBranches": 4
  },
  "nodeMapping": {
    "start": {
      "type": "start",
      "dslType": ">",
      "hasConditionalRouting": false
    },
    "q1": {
      "type": "question",
      "dslType": "?",
      "questionType": "text",
      "dslQuestionType": "Tx",
      "required": true,
      "hasValidation": true,
      "validationRules": ["minLength: 2"]
    },
    "q2": {
      "type": "question",
      "dslType": "?",
      "questionType": "date",
      "dslQuestionType": "Dt",
      "required": true,
      "hasValidation": true,
      "validationRules": ["maxDate: today"]
    },
    "q3": {
      "type": "question",
      "dslType": "?",
      "questionType": "choice",
      "dslQuestionType": "Ch",
      "required": true,
      "optionsCount": 4
    },
    "q4": {
      "type": "question",
      "dslType": "?",
      "questionType": "phone",
      "dslQuestionType": "Ph",
      "required": true,
      "hasCountryCode": true
    },
    "q5": {
      "type": "question",
      "dslType": "?",
      "questionType": "yesNo",
      "dslQuestionType": "Yn",
      "required": true,
      "hasConditionalRouting": true,
      "branches": [
        {
          "condition": "equals: yes",
          "target": "q5a"
        },
        {
          "condition": "default",
          "target": "q6"
        }
      ]
    },
    "q5a": {
      "type": "question",
      "dslType": "?",
      "questionType": "multiSelect",
      "dslQuestionType": "Mc",
      "required": true,
      "optionsCount": 5,
      "hasDescription": true,
      "searchable": true
    },
    "q6": {
      "type": "question",
      "dslType": "?",
      "questionType": "yesNo",
      "dslQuestionType": "Yn",
      "required": true,
      "hasConditionalRouting": true,
      "branches": [
        {
          "condition": "equals: yes",
          "target": "q6a"
        },
        {
          "condition": "default",
          "target": "q7"
        }
      ]
    },
    "q6a": {
      "type": "question",
      "dslType": "?",
      "questionType": "text",
      "dslQuestionType": "Tx",
      "required": true,
      "hasDescription": true,
      "hasValidation": true,
      "validationRules": ["minLength: 3"]
    },
    "q7": {
      "type": "question",
      "dslType": "?",
      "questionType": "multiChoice",
      "dslQuestionType": "Mc",
      "required": true,
      "optionsCount": 4,
      "hasDescription": true
    },
    "q8": {
      "type": "question",
      "dslType": "?",
      "questionType": "text",
      "dslQuestionType": "Tx",
      "required": false,
      "hasDescription": true,
      "note": "Optional question (no * suffix)"
    },
    "end": {
      "type": "end",
      "dslType": "<",
      "hasConditionalRouting": false
    }
  },
  "typeConversions": {
    "text": "Tx",
    "date": "Dt",
    "choice": "Ch",
    "phone": "Ph",
    "yesNo": "Yn",
    "multiSelect": "Mc",
    "multiChoice": "Mc"
  },
  "features": {
    "conditionalBranching": {
      "used": true,
      "count": 4,
      "nodes": ["q5", "q6"],
      "note": "All conditional branches based on yesNo questions with 'equals: yes' condition"
    },
    "validation": {
      "used": true,
      "nodes": ["q1", "q2", "q6a"],
      "types": ["minLength", "maxDate", "errorMessage"]
    },
    "descriptions": {
      "used": true,
      "nodes": ["q5a", "q6a", "q7", "q8"]
    },
    "placeholders": {
      "used": true,
      "nodes": ["q1", "q2", "q4", "q6a", "q8"]
    },
    "searchable": {
      "used": true,
      "nodes": ["q5a"]
    }
  },
  "specialHandling": {
    "maxDateToday": {
      "node": "q2",
      "original": "maxDate: new Date().toISOString()",
      "converted": "maxDate: \"today\"",
      "note": "Converted dynamic date to 'today' keyword for DSL"
    },
    "multiSelectVsMultiChoice": {
      "note": "Both 'multiSelect' and 'multiChoice' mapped to 'Mc' type in DSL",
      "nodes": {
        "q5a": "multiSelect",
        "q7": "multiChoice"
      }
    },
    "conditionalRoutingDuplication": {
      "note": "Questions with conditional routing appear twice in DSL - once for each branch",
      "affectedNodes": ["q5", "q6"]
    }
  },
  "validationChecks": {
    "allNodesConverted": true,
    "allQuestionsTyped": true,
    "requiredFieldsMarked": true,
    "conditionalBranchesPreserved": true,
    "optionsPreserved": true,
    "configurationsPreserved": true
  },
  "warnings": [],
  "notes": [
    "Survey successfully converted with full fidelity",
    "All conditional logic preserved using '?= yes' syntax",
    "Validation rules converted to config blocks",
    "All question types mapped correctly to DSL codes",
    "Descriptions and placeholders preserved in config blocks",
    "Survey demonstrates conditional branching based on allergy and medication status"
  ]
}
