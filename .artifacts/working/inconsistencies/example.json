{
  "subtask_id": "SUBTASK1",
  "domain": "database-schema",
  "source_doc": "2026-01-02-1330-SUBTASK1-database-schema-inconsistencies.md",
  "issues": [
    {
      "id": "DB-001",
      "title": "Missing organizationId in knosia_workspace",
      "description": "The workspace table lacks an organization reference, breaking multi-tenancy support",
      "severity": "critical",
      "affected_systems": ["database", "api", "auth"],
      "blocks": ["SUBTASK2", "SUBTASK6"],
      "blocked_by": [],
      "effort_estimate": "30min",
      "current_state": "knosia_workspace has no organizationId column",
      "desired_state": "knosia_workspace.organizationId references knosia_organization.id",
      "fix_type": "schema_change",
      "files_affected": [
        "packages/db/src/schema/knosia.ts"
      ]
    },
    {
      "id": "DB-002",
      "title": "Inconsistent ID generation patterns",
      "description": "Some tables use UUID, others use generateId()",
      "severity": "medium",
      "affected_systems": ["database", "api"],
      "blocks": [],
      "blocked_by": [],
      "effort_estimate": "1h",
      "current_state": "Mixed ID types across knosia tables",
      "desired_state": "All tables use generateId() from @turbostarter/shared/utils",
      "fix_type": "schema_change",
      "files_affected": [
        "packages/db/src/schema/knosia.ts"
      ]
    }
  ],
  "summary": {
    "total_issues": 2,
    "critical": 1,
    "high": 0,
    "medium": 1,
    "low": 0
  }
}
